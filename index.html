<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Condessa IPTV - Assinatura</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Adicionando Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <style>
        :root {
            --primary-bg: #121212;
            --secondary-bg: #1e1e1e;
            --card-bg: #252525;
            --accent-red: #e50914;
            --accent-yellow: #f5c518;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--text-primary);
        }

        /* Tela de Login */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }

        .login-modal {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--accent-red), var(--accent-yellow));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1rem;
        }

        .login-input {
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0;
            background: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .login-input:focus {
            border-color: var(--accent-red);
            outline: none;
        }

        .login-btn {
            width: 100%;
            padding: 1rem;
            background: var(--accent-red);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: background 0.3s;
        }

        .login-btn:hover {
            background: #f40612;
        }

        .admin-link {
            margin-top: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .admin-link:hover {
            color: var(--accent-yellow);
        }

        .register-link {
            margin-top: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .register-link:hover {
            color: var(--accent-yellow);
        }

        /* Dashboard Admin */
        .dashboard-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-bg);
            z-index: 4000;
            padding: 2rem;
            overflow-y: auto;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .dashboard-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
        }

        .dashboard-tab {
            padding: 0.8rem 1.5rem;
            background: var(--secondary-bg);
            border: none;
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s;
        }

        .dashboard-tab.active {
            background: var(--accent-red);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent-yellow);
            margin: 0.5rem 0;
        }

        .logout-btn {
            background: var(--accent-red);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
        }

        /* Forms de Gerenciamento */
        .management-form {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-input {
            padding: 0.8rem;
            background: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-primary);
        }

        .form-textarea {
            padding: 0.8rem;
            background: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-primary);
            resize: vertical;
            min-height: 80px;
        }

        .form-select {
            padding: 0.8rem;
            background: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-primary);
        }

        .submit-btn {
            background: var(--accent-yellow);
            color: black;
            border: none;
            padding: 1rem 2rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 1rem;
        }

        /* Listas */
        .user-management, .content-management {
            margin-top: 2rem;
        }

        .user-list, .content-list {
            max-height: 400px;
            overflow-y: auto;
            background: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
        }

        .user-item, .content-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #333;
        }

        .user-info, .content-info {
            flex: 1;
        }

        .user-actions, .content-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .btn-edit {
            background: #2196F3;
            color: white;
        }

        .btn-delete {
            background: #f44336;
            color: white;
        }

        .btn-activate {
            background: #4CAF50;
            color: white;
        }

        /* Header */
        header {
            background-color: var(--secondary-bg);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--accent-red), var(--accent-yellow));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .admin-btn {
            background: var(--accent-yellow);
            color: black;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }

        .logout-btn-small {
            background: transparent;
            border: 1px solid var(--text-secondary);
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: var(--card-bg);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            width: 70%;
            border: 1px solid #333;
            transition: all 0.3s ease;
        }

        .search-container:focus-within {
            border-color: var(--accent-red);
            box-shadow: 0 0 0 2px rgba(229, 9, 20, 0.2);
        }

        .search-input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            width: 100%;
            outline: none;
            font-size: 0.9rem;
        }

        .search-btn {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.3rem;
        }

        .search-btn:hover {
            color: var(--accent-red);
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            justify-content: space-around;
            background-color: var(--secondary-bg);
            padding: 0.5rem 0;
            position: sticky;
            top: 60px;
            z-index: 99;
        }

        .nav-tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .nav-tab:hover {
            background-color: rgba(229, 9, 20, 0.1);
        }

        .nav-tab.active {
            color: var(--accent-red);
            background-color: rgba(229, 9, 20, 0.1);
            transform: scale(1.05);
        }

        .nav-tab i {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        /* Main Content */
        .main-content {
            padding: 1rem;
            min-height: calc(100vh - 140px);
        }

        .section-title {
            font-size: 1.2rem;
            margin: 1rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-title span {
            color: var(--accent-yellow);
            font-size: 0.9rem;
            cursor: pointer;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .section-title span:hover {
            background-color: rgba(245, 197, 24, 0.1);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 768px) {
            .content-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .content-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .content-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .card-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .card-content {
            padding: 0.8rem;
        }

        .card-title {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Modal de S√©ries */
        .series-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1500;
        }

        .series-modal-content {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .season-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .season-btn {
            padding: 0.5rem 1rem;
            background: var(--secondary-bg);
            border: none;
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
        }

        .season-btn.active {
            background: var(--accent-red);
        }

        .episodes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .episode-card {
            background: var(--secondary-bg);
            padding: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .episode-card:hover {
            background: var(--accent-red);
            transform: translateY(-2px);
        }

        /* Video Player */
        #video-player {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 1000;
            display: none;
            flex-direction: column;
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
        }

        .close-player {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1002;
        }

        .close-player:hover {
            color: var(--accent-red);
        }

        .video-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100%;
            height: calc(100% - 120px);
        }

        #video-element {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            background: black;
        }

        .youtube-container {
            width: 100%;
            height: 100%;
            border: none;
            background: black;
        }

        .player-controls {
            padding: 1rem;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            gap: 1rem;
            justify-content: center;
            z-index: 1001;
        }

        .control-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .control-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Modal de Assinatura */
        .subscription-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .subscription-modal {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }

        .plan-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .plan-card {
            background: var(--secondary-bg);
            padding: 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .plan-card:hover {
            border-color: var(--accent-red);
        }

        .plan-card.selected {
            border-color: var(--accent-yellow);
            background: rgba(245, 197, 24, 0.1);
        }

        .plan-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-yellow);
            margin: 0.5rem 0;
        }

        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
        }

        .payment-method {
            padding: 0.8rem 1.5rem;
            background: var(--secondary-bg);
            border: none;
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-method.active {
            background: var(--accent-red);
        }

        .pix-code {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            color: black;
            text-align: center;
        }

        /* Utility */
        .hidden {
            display: none !important;
        }

        .active-tab {
            display: block;
        }

        .favorites-empty {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .favorites-empty i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent-red);
        }

        .search-results {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .search-count {
            color: var(--accent-yellow);
            margin-bottom: 1rem;
        }

        .youtube-badge {
            background: #ff0000;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-left: 5px;
        }

        .player-type-indicator {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            z-index: 1003;
        }

        /* Novos estilos para Google Drive */
        .drive-config {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #4285f4;
        }

        .config-input {
            width: 100%;
            padding: 0.8rem;
            background: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .sync-status {
            padding: 0.5rem;
            border-radius: 4px;
            margin: 0.5rem 0;
            font-size: 0.9rem;
        }

        .sync-success {
            background: #4CAF50;
            color: white;
        }

        .sync-error {
            background: #f44336;
            color: white;
        }

        .sync-loading {
            background: #2196F3;
            color: white;
        }

        .drive-badge {
            background: #4285f4;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-left: 5px;
        }

        .step-by-step {
            background: var(--secondary-bg);
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .step-by-step ol {
            text-align: left;
            color: var(--text-secondary);
            font-size: 0.9rem;
            padding-left: 1.5rem;
        }

        .step-by-step li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Tela de Login -->
    <div id="login-overlay" class="login-overlay">
        <div class="login-modal">
            <div class="logo">CONDESSA IPTV</div>
            <p style="margin-bottom: 2rem; color: var(--text-secondary);">Fa√ßa login para acessar o conte√∫do</p>
            
            <input type="text" id="login-email" class="login-input" placeholder="E-mail">
            <input type="password" id="login-password" class="login-input" placeholder="Senha">
            
            <button id="login-btn" class="login-btn">Entrar</button>
            
            <div class="register-link" onclick="showRegister()">
                N√£o tem conta? Cadastre-se
            </div>
            
            <div class="admin-link" onclick="showAdminLogin()">
                Acesso Administrativo
            </div>
        </div>
    </div>

    <!-- Tela de Cadastro -->
    <div id="register-overlay" class="login-overlay hidden">
        <div class="login-modal">
            <div class="logo">CONDESSA IPTV</div>
            <p style="margin-bottom: 2rem; color: var(--text-secondary);">Crie sua conta</p>
            
            <input type="text" id="register-email" class="login-input" placeholder="E-mail">
            <input type="password" id="register-password" class="login-input" placeholder="Senha (m√≠nimo 6 caracteres)">
            <input type="password" id="register-confirm-password" class="login-input" placeholder="Confirmar Senha">
            
            <button id="register-btn" class="login-btn">Cadastrar</button>
            
            <div class="admin-link" onclick="showUserLogin()">
                Voltar para Login
            </div>
        </div>
    </div>

    <!-- Tela de Login Admin -->
    <div id="admin-login-overlay" class="login-overlay hidden">
        <div class="login-modal">
            <div class="logo">CONDESSA ADMIN</div>
            <p style="margin-bottom: 2rem; color: var(--text-secondary);">Acesso Restrito</p>
            
            <input type="text" id="admin-username" class="login-input" placeholder="Admin Usu√°rio">
            <input type="password" id="admin-password" class="login-input" placeholder="Admin Senha">
            
            <button id="admin-login-btn" class="login-btn">Acessar Dashboard</button>
            
            <div class="admin-link" onclick="showUserLogin()">
                Voltar para Login de Usu√°rio
            </div>
        </div>
    </div>

    <!-- Dashboard Admin -->
    <div id="dashboard-overlay" class="dashboard-overlay hidden">
        <div class="dashboard-header">
            <h1>Dashboard Administrativo</h1>
            <button class="logout-btn" onclick="logoutAdmin()">Sair</button>
        </div>

        <!-- Configura√ß√£o Google Drive -->
        <div class="drive-config">
            <h3>üìÅ Configura√ß√£o Google Drive</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Salve seus dados online (funciona em todos dispositivos)
            </p>
            
            <div class="step-by-step">
                <strong>üîß Configura√ß√£o R√°pida:</strong>
                <ol>
                    <li><strong>Sua API Key j√° est√° pronta:</strong> AIzaSyDWulc3os3K10BExe65cBRj8opLfF9j9KI</li>
                    <li><strong>Clique em "Testar Conex√£o"</strong> abaixo</li>
                    <li>Pronto! Seus dados ser√£o salvos online automaticamente</li>
                </ol>
            </div>

            <input type="text" id="drive-api-key" class="config-input" 
                   value="AIzaSyDWulc3os3K10BExe65cBRj8opLfF9j9KI"
                   placeholder="Cole sua Google Drive API Key aqui">
            
            <button onclick="testDriveConnection()" class="submit-btn" style="background: #4285f4;">
                <i class="fab fa-google-drive"></i> Testar Conex√£o
            </button>
            
            <div id="drive-status" class="sync-status"></div>
            
            <button onclick="manualSync()" class="submit-btn" style="background: #34A853; margin-top: 0.5rem;">
                <i class="fas fa-sync"></i> Sincronizar Agora
            </button>
        </div>

        <div class="dashboard-tabs">
            <button class="dashboard-tab active" onclick="switchAdminTab('overview')">Vis√£o Geral</button>
            <button class="dashboard-tab" onclick="switchAdminTab('users')">Gerenciar Usu√°rios</button>
            <button class="dashboard-tab" onclick="switchAdminTab('movies')">Gerenciar Filmes</button>
            <button class="dashboard-tab" onclick="switchAdminTab('series')">Gerenciar S√©ries</button>
            <button class="dashboard-tab" onclick="switchAdminTab('tv')">Gerenciar Canais TV</button>
        </div>

        <!-- Vis√£o Geral -->
        <div id="admin-overview" class="admin-tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Usu√°rios Ativos</h3>
                    <div class="stat-number" id="active-users-count">0</div>
                    <p>Assinaturas v√°lidas</p>
                </div>
                <div class="stat-card">
                    <h3>Receita Mensal</h3>
                    <div class="stat-number" id="monthly-revenue">R$ 0</div>
                    <p>Previs√£o atual</p>
                </div>
                <div class="stat-card">
                    <h3>Total de Usu√°rios</h3>
                    <div class="stat-number" id="total-users">0</div>
                    <p>Cadastrados no sistema</p>
                </div>
                <div class="stat-card">
                    <h3>Conte√∫do Total</h3>
                    <div class="stat-number" id="total-content">0</div>
                    <p>Filmes + S√©ries + Canais</p>
                </div>
            </div>
        </div>

        <!-- Gerenciar Usu√°rios -->
        <div id="admin-users" class="admin-tab-content hidden">
            <div class="management-form">
                <h3>Adicionar Novo Usu√°rio</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">E-mail</label>
                        <input type="text" id="new-username" class="form-input" placeholder="E-mail do usu√°rio">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Senha</label>
                        <input type="password" id="new-password" class="form-input" placeholder="Senha">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Plano</label>
                        <select id="new-user-plan" class="form-select">
                            <option value="7">7 Dias - R$ 10</option>
                            <option value="30">30 Dias - R$ 30</option>
                            <option value="90">90 Dias - R$ 75</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="new-user-status" class="form-select">
                            <option value="active">Ativo</option>
                            <option value="pending">Pendente</option>
                            <option value="expired">Expirado</option>
                        </select>
                    </div>
                </div>
                <button class="submit-btn" onclick="addNewUser()">Adicionar Usu√°rio</button>
            </div>

            <div class="user-management">
                <h3>Usu√°rios Cadastrados</h3>
                <div class="user-list" id="user-list">
                    <!-- Lista de usu√°rios ser√° gerada aqui -->
                </div>
            </div>
        </div>

        <!-- Gerenciar Filmes -->
        <div id="admin-movies" class="admin-tab-content hidden">
            <div class="management-form">
                <h3>Adicionar Novo Filme</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">T√≠tulo</label>
                        <input type="text" id="movie-title" class="form-input" placeholder="T√≠tulo do filme">
                    </div>
                    <div class="form-group">
                        <label class="form-label">G√™nero</label>
                        <input type="text" id="movie-genre" class="form-input" placeholder="A√ß√£o, Drama, etc">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Avalia√ß√£o</label>
                        <input type="number" id="movie-rating" class="form-input" placeholder="0.0 a 10.0" step="0.1" min="0" max="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL da Imagem</label>
                        <input type="text" id="movie-image" class="form-input" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL do V√≠deo</label>
                        <input type="text" id="movie-video" class="form-input" placeholder="https://... (YouTube, Vimeo, etc)">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descri√ß√£o</label>
                        <textarea id="movie-description" class="form-textarea" placeholder="Sinopse do filme"></textarea>
                    </div>
                </div>
                <button class="submit-btn" onclick="addNewMovie()">Adicionar Filme</button>
            </div>

            <div class="content-management">
                <h3>Filmes Cadastrados</h3>
                <div class="content-list" id="movies-list">
                    <!-- Lista de filmes ser√° gerada aqui -->
                </div>
            </div>
        </div>

        <!-- Gerenciar S√©ries -->
        <div id="admin-series" class="admin-tab-content hidden">
            <div class="management-form">
                <h3>Adicionar Nova S√©rie</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">T√≠tulo da S√©rie</label>
                        <input type="text" id="series-title" class="form-input" placeholder="T√≠tulo da s√©rie">
                    </div>
                    <div class="form-group">
                        <label class="form-label">G√™nero</label>
                        <input type="text" id="series-genre" class="form-input" placeholder="Drama, Com√©dia, etc">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Avalia√ß√£o</label>
                        <input type="number" id="series-rating" class="form-input" placeholder="0.0 a 10.0" step="0.1" min="0" max="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL da Imagem</label>
                        <input type="text" id="series-image" class="form-input" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descri√ß√£o</label>
                        <textarea id="series-description" class="form-textarea" placeholder="Sinopse da s√©rie"></textarea>
                    </div>
                </div>

                <h4 style="margin-top: 2rem; margin-bottom: 1rem;">Adicionar Temporadas e Epis√≥dios</h4>
                <div id="seasons-container">
                    <!-- Temporadas ser√£o adicionadas aqui -->
                </div>
                <button type="button" class="submit-btn" onclick="addSeason()" style="background: #2196F3; margin-top: 1rem;">
                    + Adicionar Temporada
                </button>

                <button class="submit-btn" onclick="addNewSeries()" style="margin-top: 2rem;">Adicionar S√©rie</button>
            </div>

            <div class="content-management">
                <h3>S√©ries Cadastradas</h3>
                <div class="content-list" id="series-list">
                    <!-- Lista de s√©ries ser√° gerada aqui -->
                </div>
            </div>
        </div>

        <!-- Gerenciar Canais TV -->
        <div id="admin-tv" class="admin-tab-content hidden">
            <div class="management-form">
                <h3>Adicionar Novo Canal</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Canal</label>
                        <input type="text" id="channel-name" class="form-input" placeholder="Nome do canal">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Categoria</label>
                        <input type="text" id="channel-category" class="form-input" placeholder="Esportes, Not√≠cias, etc">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL da Imagem</label>
                        <input type="text" id="channel-image" class="form-input" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL do Stream</label>
                        <input type="text" id="channel-stream" class="form-input" placeholder="https://... (m3u8, mp4, etc)">
                    </div>
                </div>
                <button class="submit-btn" onclick="addNewChannel()">Adicionar Canal</button>
            </div>

            <div class="content-management">
                <h3>Canais Cadastrados</h3>
                <div class="content-list" id="channels-list">
                    <!-- Lista de canais ser√° gerada aqui -->
                </div>
            </div>
        </div>
    </div>

    <!-- Interface Principal -->
    <div id="main-interface" class="hidden">
        <!-- Header -->
        <header>
            <div class="header-logo">CONDESSA IPTV</div>
            
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="Buscar filmes, s√©ries...">
                <button class="search-btn" onclick="performSearch()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            
            <div class="user-menu">
                <button class="admin-btn" onclick="showAdminLogin()">
                    <i class="fas fa-cog"></i> Admin
                </button>
                <button class="logout-btn-small" onclick="logoutUser()">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('home')">
                <i class="fas fa-home"></i>
                <span>In√≠cio</span>
            </div>
            <div class="nav-tab" onclick="switchTab('movies')">
                <i class="fas fa-film"></i>
                <span>Filmes</span>
            </div>
            <div class="nav-tab" onclick="switchTab('series')">
                <i class="fas fa-tv"></i>
                <span>S√©ries</span>
            </div>
            <div class="nav-tab" onclick="switchTab('tv')">
                <i class="fas fa-broadcast-tower"></i>
                <span>Canais TV</span>
            </div>
            <div class="nav-tab" onclick="switchTab('favorites')">
                <i class="fas fa-heart"></i>
                <span>Favoritos</span>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Tab -->
            <div id="home-tab" class="tab-content active-tab">
                <div class="section-title">
                    <h2>Filmes em Destaque</h2>
                    <span onclick="switchTab('movies')">Ver Todos</span>
                </div>
                <div class="content-grid" id="featured-movies">
                    <!-- Filmes em destaque ser√£o carregados aqui -->
                </div>

                <div class="section-title">
                    <h2>S√©ries em Destaque</h2>
                    <span onclick="switchTab('series')">Ver Todos</span>
                </div>
                <div class="content-grid" id="featured-series">
                    <!-- S√©ries em destaque ser√£o carregadas aqui -->
                </div>

                <div class="section-title">
                    <h2>Canais Populares</h2>
                    <span onclick="switchTab('tv')">Ver Todos</span>
                </div>
                <div class="content-grid" id="featured-channels">
                    <!-- Canais populares ser√£o carregados aqui -->
                </div>
            </div>

            <!-- Movies Tab -->
            <div id="movies-tab" class="tab-content hidden">
                <div class="section-title">
                    <h2>Todos os Filmes</h2>
                </div>
                <div class="content-grid" id="all-movies">
                    <!-- Todos os filmes ser√£o carregados aqui -->
                </div>
            </div>

            <!-- Series Tab -->
            <div id="series-tab" class="tab-content hidden">
                <div class="section-title">
                    <h2>Todas as S√©ries</h2>
                </div>
                <div class="content-grid" id="all-series">
                    <!-- Todas as s√©ries ser√£o carregadas aqui -->
                </div>
            </div>

            <!-- TV Tab -->
            <div id="tv-tab" class="tab-content hidden">
                <div class="section-title">
                    <h2>Todos os Canais</h2>
                </div>
                <div class="content-grid" id="all-channels">
                    <!-- Todos os canais ser√£o carregados aqui -->
                </div>
            </div>

            <!-- Favorites Tab -->
            <div id="favorites-tab" class="tab-content hidden">
                <div class="section-title">
                    <h2>Meus Favoritos</h2>
                </div>
                <div id="favorites-content">
                    <!-- Conte√∫do favorito ser√° carregado aqui -->
                </div>
            </div>

            <!-- Search Results -->
            <div id="search-results" class="search-results hidden">
                <div class="section-title">
                    <h2>Resultados da Busca</h2>
                    <span onclick="clearSearch()">Voltar</span>
                </div>
                <div class="search-count" id="search-count"></div>
                <div class="content-grid" id="search-results-grid">
                    <!-- Resultados da busca ser√£o carregados aqui -->
                </div>
            </div>
        </main>
    </div>

    <!-- Modal de S√©ries -->
    <div id="series-modal" class="series-modal hidden">
        <div class="series-modal-content">
            <div class="series-modal-header">
                <h2 id="series-modal-title">S√©rie</h2>
                <button class="close-player" onclick="closeSeriesModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="series-seasons" class="season-selector">
                <!-- Temporadas ser√£o carregadas aqui -->
            </div>
            <div id="series-episodes" class="episodes-grid">
                <!-- Epis√≥dios ser√£o carregados aqui -->
            </div>
        </div>
    </div>

    <!-- Video Player -->
    <div id="video-player">
        <div class="player-header">
            <h3 id="player-title">T√≠tulo do V√≠deo</h3>
            <button class="close-player" onclick="closeVideoPlayer()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="video-container">
            <div class="player-type-indicator" id="player-type-indicator"></div>
            <video id="video-element" controls></video>
            <iframe id="youtube-element" class="youtube-container" style="display: none;" 
                    frameborder="0" allowfullscreen></iframe>
        </div>
        <div class="player-controls">
            <button class="control-btn" onclick="toggleFavorite()">
                <i class="far fa-heart" id="favorite-icon"></i> Favoritar
            </button>
            <button class="control-btn" onclick="toggleSubtitles()">
                <i class="fas fa-closed-captioning"></i> Legendas
            </button>
        </div>
    </div>

    <!-- Modal de Assinatura -->
    <div id="subscription-overlay" class="subscription-overlay hidden">
        <div class="subscription-modal">
            <div class="logo">CONDESSA IPTV</div>
            <h2 style="margin: 1rem 0;">Escolha seu Plano</h2>
            
            <div class="plan-options">
                <div class="plan-card" onclick="selectPlan(7)">
                    <h3>7 Dias</h3>
                    <div class="plan-price">R$ 10</div>
                    <p>Teste B√°sico</p>
                </div>
                <div class="plan-card" onclick="selectPlan(30)">
                    <h3>30 Dias</h3>
                    <div class="plan-price">R$ 30</div>
                    <p>Mais Popular</p>
                </div>
                <div class="plan-card" onclick="selectPlan(90)">
                    <h3>90 Dias</h3>
                    <div class="plan-price">R$ 75</div>
                    <p>Melhor Oferta</p>
                </div>
            </div>

            <div class="payment-methods">
                <button class="payment-method active" onclick="selectPayment('pix')">PIX</button>
                <button class="payment-method" onclick="selectPayment('card')">Cart√£o</button>
            </div>

            <div id="pix-payment" class="payment-section">
                <div class="pix-code">
                    <p>Chave PIX: <strong>condessa@iptv.com</strong></p>
                    <p style="margin-top: 0.5rem;">Envie o comprovante para WhatsApp: (11) 99999-9999</p>
                </div>
            </div>

            <div id="card-payment" class="payment-section hidden">
                <input type="text" class="login-input" placeholder="N√∫mero do Cart√£o">
                <input type="text" class="login-input" placeholder="Nome no Cart√£o">
                <div style="display: flex; gap: 1rem;">
                    <input type="text" class="login-input" placeholder="Validade">
                    <input type="text" class="login-input" placeholder="CVV">
                </div>
            </div>

            <button class="login-btn" style="margin-top: 2rem;" onclick="completePayment()">
                Finalizar Pagamento
            </button>

            <div class="admin-link" onclick="closeSubscriptionModal()" style="margin-top: 1rem;">
                Voltar
            </div>
        </div>
    </div>

    <script>
        // Configura√ß√£o do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDWulc3os3K10BExe65cBRj8opLfF9j9KI",
            authDomain: "condessa-iptv.firebaseapp.com",
            projectId: "condessa-iptv",
            storageBucket: "condessa-iptv.firebasestorage.app",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };

        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Dados da aplica√ß√£o
        let currentUser = null;
        let selectedPlan = 30;
        let selectedPayment = 'pix';
        let currentSeries = null;
        let currentSeason = 1;
        let currentVideo = null;
        let favorites = [];
        let adminUsers = [];
        let movies = [];
        let series = [];
        let tvChannels = [];

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            checkLoginStatus();
        });

        function initializeApp() {
            // Carregar dados do localStorage
            loadLocalData();
            
            // Inicializar dados de exemplo se n√£o existirem
            initializeSampleData();
            
            // Configurar listeners
            setupEventListeners();
        }

        function setupEventListeners() {
            // Login de usu√°rio
            document.getElementById('login-btn').addEventListener('click', loginUser);
            document.getElementById('login-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') loginUser();
            });

            // Cadastro de usu√°rio
            document.getElementById('register-btn').addEventListener('click', registerUser);
            document.getElementById('register-confirm-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') registerUser();
            });

            // Login admin
            document.getElementById('admin-login-btn').addEventListener('click', loginAdmin);
            document.getElementById('admin-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') loginAdmin();
            });

            // Busca
            document.getElementById('search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') performSearch();
            });
        }

        function loadLocalData() {
            // Carregar dados do localStorage
            const savedUsers = localStorage.getItem('adminUsers');
            const savedMovies = localStorage.getItem('movies');
            const savedSeries = localStorage.getItem('series');
            const savedChannels = localStorage.getItem('tvChannels');
            const savedFavorites = localStorage.getItem('favorites');

            if (savedUsers) adminUsers = JSON.parse(savedUsers);
            if (savedMovies) movies = JSON.parse(savedMovies);
            if (savedSeries) series = JSON.parse(savedSeries);
            if (savedChannels) tvChannels = JSON.parse(savedChannels);
            if (savedFavorites) favorites = JSON.parse(savedFavorites);
        }

        function saveLocalData() {
            // Salvar dados no localStorage
            localStorage.setItem('adminUsers', JSON.stringify(adminUsers));
            localStorage.setItem('movies', JSON.stringify(movies));
            localStorage.setItem('series', JSON.stringify(series));
            localStorage.setItem('tvChannels', JSON.stringify(tvChannels));
            localStorage.setItem('favorites', JSON.stringify(favorites));
        }

        function initializeSampleData() {
            // Inicializar usu√°rio admin padr√£o se n√£o existir
            if (adminUsers.length === 0) {
                adminUsers.push({
                    username: 'admin',
                    password: 'admin123',
                    email: 'admin@condessa.com'
                });
                saveLocalData();
            }

            // Inicializar filmes de exemplo se n√£o existirem
            if (movies.length === 0) {
                movies = [
                    {
                        id: 1,
                        title: "Vingadores: Ultimato",
                        genre: "A√ß√£o, Aventura",
                        rating: 8.4,
                        image: "https://image.tmdb.org/t/p/w500/q6725aR8Zs4IwGMXzZT8aC8lh41.jpg",
                        video: "https://www.youtube.com/embed/g6ng8iy-l0U",
                        description: "Os Vingadores precisam se reunir novamente para desfazer as a√ß√µes de Thanos."
                    },
                    {
                        id: 2,
                        title: "John Wick 4",
                        genre: "A√ß√£o, Thriller",
                        rating: 7.9,
                        image: "https://image.tmdb.org/t/p/w500/gh2bmprLtUQ8oXCSluzfqaicyrm.jpg",
                        video: "https://www.youtube.com/embed/qEVUtrk8_B4",
                        description: "John Wick descobre um caminho para derrotar a Alta C√∫pula."
                    }
                ];
                saveLocalData();
            }

            // Inicializar s√©ries de exemplo se n√£o existirem
            if (series.length === 0) {
                series = [
                    {
                        id: 1,
                        title: "The Last of Us",
                        genre: "Drama, Aventura",
                        rating: 8.8,
                        image: "https://image.tmdb.org/t/p/w500/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",
                        description: "Um homem dur√£o e uma adolescente corajosa enfrentam perigos em um mundo p√≥s-apocal√≠ptico.",
                        seasons: [
                            {
                                number: 1,
                                episodes: [
                                    { number: 1, title: "Quando Voc√™ Est√° Perdido na Escurid√£o", video: "https://www.youtube.com/embed/uLtkt8BonwM" },
                                    { number: 2, title: "Infectados", video: "https://www.youtube.com/embed/2R2gb0MKJQA" }
                                ]
                            }
                        ]
                    }
                ];
                saveLocalData();
            }

            // Inicializar canais de exemplo se n√£o existirem
            if (tvChannels.length === 0) {
                tvChannels = [
                    {
                        id: 1,
                        name: "Globo",
                        category: "Variedades",
                        image: "https://logosmarcas.net/wp-content/uploads/2020/04/Rede-Globo-Logo.png",
                        stream: "https://example.com/globo.m3u8"
                    },
                    {
                        id: 2,
                        name: "SporTV",
                        category: "Esportes",
                        image: "https://logodownload.org/wp-content/uploads/2017/11/sportv-logo-0.png",
                        stream: "https://example.com/sportv.m3u8"
                    }
                ];
                saveLocalData();
            }
        }

        // Fun√ß√µes de Login/Cadastro
        function showUserLogin() {
            document.getElementById('login-overlay').classList.remove('hidden');
            document.getElementById('register-overlay').classList.add('hidden');
            document.getElementById('admin-login-overlay').classList.add('hidden');
        }

        function showRegister() {
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('register-overlay').classList.remove('hidden');
            document.getElementById('admin-login-overlay').classList.add('hidden');
        }

        function showAdminLogin() {
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('register-overlay').classList.add('hidden');
            document.getElementById('admin-login-overlay').classList.remove('hidden');
        }

        function checkLoginStatus() {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    showMainInterface();
                } else {
                    showUserLogin();
                }
            });
        }

        async function loginUser() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            if (!email || !password) {
                alert('Por favor, preencha todos os campos.');
                return;
            }

            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                showMainInterface();
            } catch (error) {
                console.error('Erro no login:', error);
                alert('Erro ao fazer login: ' + error.message);
            }
        }

        async function registerUser() {
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;

            if (!email || !password || !confirmPassword) {
                alert('Por favor, preencha todos os campos.');
                return;
            }

            if (password !== confirmPassword) {
                alert('As senhas n√£o coincidem.');
                return;
            }

            if (password.length < 6) {
                alert('A senha deve ter pelo menos 6 caracteres.');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                showMainInterface();
            } catch (error) {
                console.error('Erro no cadastro:', error);
                alert('Erro ao criar conta: ' + error.message);
            }
        }

        function loginAdmin() {
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;

            // Verificar credenciais do admin
            const admin = adminUsers.find(u => u.username === username && u.password === password);
            
            if (admin) {
                showAdminDashboard();
            } else {
                alert('Credenciais de administrador inv√°lidas.');
            }
        }

        function logoutUser() {
            auth.signOut().then(() => {
                currentUser = null;
                showUserLogin();
            });
        }

        function logoutAdmin() {
            document.getElementById('dashboard-overlay').classList.add('hidden');
            document.getElementById('admin-login-overlay').classList.remove('hidden');
        }

        function showMainInterface() {
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('register-overlay').classList.add('hidden');
            document.getElementById('admin-login-overlay').classList.add('hidden');
            document.getElementById('main-interface').classList.remove('hidden');
            
            loadContent();
        }

        function showAdminDashboard() {
            document.getElementById('admin-login-overlay').classList.add('hidden');
            document.getElementById('dashboard-overlay').classList.remove('hidden');
            
            loadAdminData();
        }

        // Fun√ß√µes de Navega√ß√£o
        function switchTab(tabName) {
            // Esconder todas as abas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remover classe active de todas as abas de navega√ß√£o
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostrar aba selecionada
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Ativar aba de navega√ß√£o correspondente
            document.querySelectorAll('.nav-tab').forEach(tab => {
                if (tab.querySelector('span').textContent.toLowerCase() === tabName) {
                    tab.classList.add('active');
                }
            });
            
            // Carregar conte√∫do espec√≠fico da aba se necess√°rio
            if (tabName === 'favorites') {
                loadFavorites();
            }
        }

        function switchAdminTab(tabName) {
            // Esconder todas as abas do admin
            document.querySelectorAll('.admin-tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remover classe active de todas as abas
            document.querySelectorAll('.dashboard-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostrar aba selecionada
            document.getElementById('admin-' + tabName).classList.remove('hidden');
            
            // Ativar aba correspondente
            document.querySelectorAll('.dashboard-tab').forEach((tab, index) => {
                const tabs = ['overview', 'users', 'movies', 'series', 'tv'];
                if (tabs[index] === tabName) {
                    tab.classList.add('active');
                }
            });
            
            // Carregar dados espec√≠ficos se necess√°rio
            if (tabName === 'users') {
                loadUserList();
            } else if (tabName === 'movies') {
                loadMoviesList();
            } else if (tabName === 'series') {
                loadSeriesList();
            } else if (tabName === 'tv') {
                loadChannelsList();
            }
        }

        // Fun√ß√µes de Carregamento de Conte√∫do
        function loadContent() {
            loadFeaturedContent();
            loadAllMovies();
            loadAllSeries();
            loadAllChannels();
        }

        function loadFeaturedContent() {
            // Carregar filmes em destaque
            const featuredMoviesGrid = document.getElementById('featured-movies');
            featuredMoviesGrid.innerHTML = '';
            
            movies.slice(0, 4).forEach(movie => {
                featuredMoviesGrid.innerHTML += createMovieCard(movie);
            });

            // Carregar s√©ries em destaque
            const featuredSeriesGrid = document.getElementById('featured-series');
            featuredSeriesGrid.innerHTML = '';
            
            series.slice(0, 4).forEach(serie => {
                featuredSeriesGrid.innerHTML += createSeriesCard(serie);
            });

            // Carregar canais em destaque
            const featuredChannelsGrid = document.getElementById('featured-channels');
            featuredChannelsGrid.innerHTML = '';
            
            tvChannels.slice(0, 4).forEach(channel => {
                featuredChannelsGrid.innerHTML += createChannelCard(channel);
            });
        }

        function loadAllMovies() {
            const allMoviesGrid = document.getElementById('all-movies');
            allMoviesGrid.innerHTML = '';
            
            movies.forEach(movie => {
                allMoviesGrid.innerHTML += createMovieCard(movie);
            });
        }

        function loadAllSeries() {
            const allSeriesGrid = document.getElementById('all-series');
            allSeriesGrid.innerHTML = '';
            
            series.forEach(serie => {
                allSeriesGrid.innerHTML += createSeriesCard(serie);
            });
        }

        function loadAllChannels() {
            const allChannelsGrid = document.getElementById('all-channels');
            allChannelsGrid.innerHTML = '';
            
            tvChannels.forEach(channel => {
                allChannelsGrid.innerHTML += createChannelCard(channel);
            });
        }

        function loadFavorites() {
            const favoritesContent = document.getElementById('favorites-content');
            
            if (favorites.length === 0) {
                favoritesContent.innerHTML = `
                    <div class="favorites-empty">
                        <i class="far fa-heart"></i>
                        <h3>Nenhum favorito ainda</h3>
                        <p>Adicone filmes e s√©ries aos favoritos para v√™-los aqui</p>
                    </div>
                `;
                return;
            }

            let favoritesHTML = '<div class="content-grid">';
            
            favorites.forEach(fav => {
                if (fav.type === 'movie') {
                    const movie = movies.find(m => m.id === fav.id);
                    if (movie) {
                        favoritesHTML += createMovieCard(movie);
                    }
                } else if (fav.type === 'series') {
                    const serie = series.find(s => s.id === fav.id);
                    if (serie) {
                        favoritesHTML += createSeriesCard(serie);
                    }
                }
            });
            
            favoritesHTML += '</div>';
            favoritesContent.innerHTML = favoritesHTML;
        }

        // Fun√ß√µes de Cria√ß√£o de Cards
        function createMovieCard(movie) {
            const isFavorite = favorites.some(fav => fav.id === movie.id && fav.type === 'movie');
            
            return `
                <div class="content-card" onclick="playMovie(${movie.id})">
                    <img src="${movie.image}" alt="${movie.title}" class="card-image">
                    <div class="card-content">
                        <div class="card-title">${movie.title}</div>
                        <div class="card-info">
                            <span>‚≠ê ${movie.rating}</span>
                            <span>${movie.genre}</span>
                        </div>
                    </div>
                    <div class="card-actions">
                        <button class="action-btn ${isFavorite ? 'btn-delete' : 'btn-activate'}" 
                                onclick="event.stopPropagation(); toggleMovieFavorite(${movie.id})">
                            <i class="${isFavorite ? 'fas' : 'far'} fa-heart"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function createSeriesCard(serie) {
            const isFavorite = favorites.some(fav => fav.id === serie.id && fav.type === 'series');
            
            return `
                <div class="content-card" onclick="openSeriesModal(${serie.id})">
                    <img src="${serie.image}" alt="${serie.title}" class="card-image">
                    <div class="card-content">
                        <div class="card-title">${serie.title}</div>
                        <div class="card-info">
                            <span>‚≠ê ${serie.rating}</span>
                            <span>${serie.genre}</span>
                        </div>
                    </div>
                    <div class="card-actions">
                        <button class="action-btn ${isFavorite ? 'btn-delete' : 'btn-activate'}" 
                                onclick="event.stopPropagation(); toggleSeriesFavorite(${serie.id})">
                            <i class="${isFavorite ? 'fas' : 'far'} fa-heart"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function createChannelCard(channel) {
            return `
                <div class="content-card" onclick="playChannel(${channel.id})">
                    <img src="${channel.image}" alt="${channel.name}" class="card-image">
                    <div class="card-content">
                        <div class="card-title">${channel.name}</div>
                        <div class="card-info">
                            <span>${channel.category}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Fun√ß√µes de Player
        function playMovie(movieId) {
            const movie = movies.find(m => m.id === movieId);
            if (!movie) return;

            currentVideo = {
                type: 'movie',
                id: movieId,
                title: movie.title,
                url: movie.video
            };

            openVideoPlayer(movie.title, movie.video);
        }

        function playChannel(channelId) {
            const channel = tvChannels.find(c => c.id === channelId);
            if (!channel) return;

            currentVideo = {
                type: 'channel',
                id: channelId,
                title: channel.name,
                url: channel.stream
            };

            openVideoPlayer(channel.name, channel.stream);
        }

        function playEpisode(seriesId, seasonNumber, episodeNumber) {
            const serie = series.find(s => s.id === seriesId);
            if (!serie) return;

            const season = serie.seasons.find(s => s.number === seasonNumber);
            if (!season) return;

            const episode = season.episodes.find(e => e.number === episodeNumber);
            if (!episode) return;

            currentVideo = {
                type: 'episode',
                id: `${seriesId}-${seasonNumber}-${episodeNumber}`,
                title: `${serie.title} - S${seasonNumber}E${episodeNumber}: ${episode.title}`,
                url: episode.video
            };

            openVideoPlayer(currentVideo.title, episode.video);
        }

        function openVideoPlayer(title, url) {
            document.getElementById('player-title').textContent = title;
            document.getElementById('video-player').style.display = 'flex';
            
            const videoElement = document.getElementById('video-element');
            const youtubeElement = document.getElementById('youtube-element');
            const playerTypeIndicator = document.getElementById('player-type-indicator');
            
            // Verificar se √© um v√≠deo do YouTube
            if (url.includes('youtube.com') || url.includes('youtu.be')) {
                videoElement.style.display = 'none';
                youtubeElement.style.display = 'block';
                
                // Extrair ID do v√≠deo do YouTube
                let videoId = '';
                if (url.includes('youtube.com/watch?v=')) {
                    videoId = url.split('v=')[1].split('&')[0];
                } else if (url.includes('youtu.be/')) {
                    videoId = url.split('youtu.be/')[1].split('?')[0];
                } else if (url.includes('youtube.com/embed/')) {
                    videoId = url.split('embed/')[1].split('?')[0];
                }
                
                youtubeElement.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
                playerTypeIndicator.textContent = 'YouTube Player';
                playerTypeIndicator.style.display = 'block';
                
            } else {
                // √â um v√≠deo padr√£o
                youtubeElement.style.display = 'none';
                videoElement.style.display = 'block';
                videoElement.src = url;
                videoElement.play();
                playerTypeIndicator.textContent = 'Video Player';
                playerTypeIndicator.style.display = 'block';
            }
            
            // Atualizar √≠cone de favoritos
            updateFavoriteIcon();
        }

        function closeVideoPlayer() {
            document.getElementById('video-player').style.display = 'none';
            
            const videoElement = document.getElementById('video-element');
            const youtubeElement = document.getElementById('youtube-element');
            
            videoElement.pause();
            videoElement.src = '';
            youtubeElement.src = '';
            
            currentVideo = null;
        }

        function toggleFavorite() {
            if (!currentVideo) return;
            
            const { id, type, title } = currentVideo;
            const favoriteIndex = favorites.findIndex(fav => fav.id === id && fav.type === type);
            
            if (favoriteIndex === -1) {
                // Adicionar aos favoritos
                favorites.push({
                    id: id,
                    type: type,
                    title: title
                });
            } else {
                // Remover dos favoritos
                favorites.splice(favoriteIndex, 1);
            }
            
            saveLocalData();
            updateFavoriteIcon();
            
            // Recarregar aba de favoritos se estiver aberta
            if (document.getElementById('favorites-tab').classList.contains('active-tab')) {
                loadFavorites();
            }
        }

        function updateFavoriteIcon() {
            if (!currentVideo) return;
            
            const { id, type } = currentVideo;
            const isFavorite = favorites.some(fav => fav.id === id && fav.type === type);
            const favoriteIcon = document.getElementById('favorite-icon');
            
            if (isFavorite) {
                favoriteIcon.className = 'fas fa-heart';
            } else {
                favoriteIcon.className = 'far fa-heart';
            }
        }

        function toggleMovieFavorite(movieId) {
            const movie = movies.find(m => m.id === movieId);
            if (!movie) return;
            
            const favoriteIndex = favorites.findIndex(fav => fav.id === movieId && fav.type === 'movie');
            
            if (favoriteIndex === -1) {
                favorites.push({
                    id: movieId,
                    type: 'movie',
                    title: movie.title
                });
            } else {
                favorites.splice(favoriteIndex, 1);
            }
            
            saveLocalData();
            loadContent(); // Recarregar conte√∫do para atualizar √≠cones
        }

        function toggleSeriesFavorite(seriesId) {
            const serie = series.find(s => s.id === seriesId);
            if (!serie) return;
            
            const favoriteIndex = favorites.findIndex(fav => fav.id === seriesId && fav.type === 'series');
            
            if (favoriteIndex === -1) {
                favorites.push({
                    id: seriesId,
                    type: 'series',
                    title: serie.title
                });
            } else {
                favorites.splice(favoriteIndex, 1);
            }
            
            saveLocalData();
            loadContent(); // Recarregar conte√∫do para atualizar √≠cones
        }

        // Modal de S√©ries
        function openSeriesModal(seriesId) {
            const serie = series.find(s => s.id === seriesId);
            if (!serie) return;
            
            currentSeries = serie;
            document.getElementById('series-modal-title').textContent = serie.title;
            document.getElementById('series-modal').classList.remove('hidden');
            
            loadSeasons(serie);
        }

        function closeSeriesModal() {
            document.getElementById('series-modal').classList.add('hidden');
            currentSeries = null;
            currentSeason = 1;
        }

        function loadSeasons(serie) {
            const seasonsContainer = document.getElementById('series-seasons');
            seasonsContainer.innerHTML = '';
            
            serie.seasons.forEach(season => {
                const seasonBtn = document.createElement('button');
                seasonBtn.className = `season-btn ${season.number === currentSeason ? 'active' : ''}`;
                seasonBtn.textContent = `Temporada ${season.number}`;
                seasonBtn.onclick = () => {
                    currentSeason = season.number;
                    loadEpisodes(season);
                    // Atualizar bot√µes ativos
                    document.querySelectorAll('.season-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    seasonBtn.classList.add('active');
                };
                seasonsContainer.appendChild(seasonBtn);
            });
            
            // Carregar epis√≥dios da primeira temporada
            const firstSeason = serie.seasons[0];
            if (firstSeason) {
                currentSeason = firstSeason.number;
                loadEpisodes(firstSeason);
            }
        }

        function loadEpisodes(season) {
            const episodesContainer = document.getElementById('series-episodes');
            episodesContainer.innerHTML = '';
            
            season.episodes.forEach(episode => {
                const episodeCard = document.createElement('div');
                episodeCard.className = 'episode-card';
                episodeCard.innerHTML = `
                    <div style="font-weight: bold;">Epis√≥dio ${episode.number}</div>
                    <div style="font-size: 0.8rem; margin-top: 0.5rem;">${episode.title}</div>
                `;
                episodeCard.onclick = () => {
                    playEpisode(currentSeries.id, season.number, episode.number);
                    closeSeriesModal();
                };
                episodesContainer.appendChild(episodeCard);
            });
        }

        // Fun√ß√µes de Busca
        function performSearch() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase().trim();
            
            if (!searchTerm) {
                clearSearch();
                return;
            }
            
            // Esconder conte√∫do normal
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Mostrar resultados da busca
            document.getElementById('search-results').classList.remove('hidden');
            
            // Buscar em filmes, s√©ries e canais
            const movieResults = movies.filter(movie => 
                movie.title.toLowerCase().includes(searchTerm) ||
                movie.genre.toLowerCase().includes(searchTerm) ||
                movie.description.toLowerCase().includes(searchTerm)
            );
            
            const seriesResults = series.filter(serie => 
                serie.title.toLowerCase().includes(searchTerm) ||
                serie.genre.toLowerCase().includes(searchTerm) ||
                serie.description.toLowerCase().includes(searchTerm)
            );
            
            const channelResults = tvChannels.filter(channel => 
                channel.name.toLowerCase().includes(searchTerm) ||
                channel.category.toLowerCase().includes(searchTerm)
            );
            
            const allResults = [...movieResults, ...seriesResults, ...channelResults];
            
            // Atualizar contador
            document.getElementById('search-count').textContent = 
                `${allResults.length} resultado(s) encontrado(s) para "${searchTerm}"`;
            
            // Exibir resultados
            const resultsGrid = document.getElementById('search-results-grid');
            resultsGrid.innerHTML = '';
            
            allResults.forEach(item => {
                if (item.genre) {
                    // √â um filme ou s√©rie
                    if (item.seasons) {
                        // √â uma s√©rie
                        resultsGrid.innerHTML += createSeriesCard(item);
                    } else {
                        // √â um filme
                        resultsGrid.innerHTML += createMovieCard(item);
                    }
                } else {
                    // √â um canal
                    resultsGrid.innerHTML += createChannelCard(item);
                }
            });
        }

        function clearSearch() {
            document.getElementById('search-input').value = '';
            document.getElementById('search-results').classList.add('hidden');
            
            // Voltar para a aba ativa
            const activeTab = document.querySelector('.nav-tab.active span').textContent.toLowerCase();
            switchTab(activeTab);
        }

        // Fun√ß√µes do Player
        function toggleSubtitles() {
            // Implementar toggle de legendas
            alert('Funcionalidade de legendas em desenvolvimento');
        }

        // Fun√ß√µes de Assinatura
        function selectPlan(days) {
            selectedPlan = days;
            
            // Atualizar visual dos planos
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            document.querySelectorAll('.plan-card').forEach((card, index) => {
                const plans = [7, 30, 90];
                if (plans[index] === days) {
                    card.classList.add('selected');
                }
            });
        }

        function selectPayment(method) {
            selectedPayment = method;
            
            // Atualizar visual dos m√©todos de pagamento
            document.querySelectorAll('.payment-method').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.querySelectorAll('.payment-method').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(method)) {
                    btn.classList.add('active');
                }
            });
            
            // Mostrar/ocultar se√ß√µes de pagamento
            document.getElementById('pix-payment').classList.toggle('hidden', method !== 'pix');
            document.getElementById('card-payment').classList.toggle('hidden', method !== 'card');
        }

        function completePayment() {
            alert('Pagamento processado com sucesso! Sua assinatura est√° ativa.');
            closeSubscriptionModal();
        }

        function closeSubscriptionModal() {
            document.getElementById('subscription-overlay').classList.add('hidden');
        }

        // Fun√ß√µes do Admin Dashboard
        function loadAdminData() {
            // Atualizar estat√≠sticas
            document.getElementById('active-users-count').textContent = '15';
            document.getElementById('monthly-revenue').textContent = 'R$ 450';
            document.getElementById('total-users').textContent = adminUsers.length;
            document.getElementById('total-content').textContent = movies.length + series.length + tvChannels.length;
        }

        function loadUserList() {
            const userList = document.getElementById('user-list');
            userList.innerHTML = '';
            
            adminUsers.forEach(user => {
                const userItem = document.createElement('div');
                userItem.className = 'user-item';
                userItem.innerHTML = `
                    <div class="user-info">
                        <div><strong>${user.username}</strong></div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">${user.email}</div>
                    </div>
                    <div class="user-actions">
                        <button class="action-btn btn-edit">Editar</button>
                        <button class="action-btn btn-delete" onclick="deleteUser('${user.username}')">Excluir</button>
                    </div>
                `;
                userList.appendChild(userItem);
            });
        }

        function loadMoviesList() {
            const moviesList = document.getElementById('movies-list');
            moviesList.innerHTML = '';
            
            movies.forEach(movie => {
                const movieItem = document.createElement('div');
                movieItem.className = 'content-item';
                movieItem.innerHTML = `
                    <div class="content-info">
                        <div><strong>${movie.title}</strong></div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">${movie.genre} | ‚≠ê ${movie.rating}</div>
                    </div>
                    <div class="content-actions">
                        <button class="action-btn btn-edit">Editar</button>
                        <button class="action-btn btn-delete" onclick="deleteMovie(${movie.id})">Excluir</button>
                    </div>
                `;
                moviesList.appendChild(movieItem);
            });
        }

        function loadSeriesList() {
            const seriesList = document.getElementById('series-list');
            seriesList.innerHTML = '';
            
            series.forEach(serie => {
                const seriesItem = document.createElement('div');
                seriesItem.className = 'content-item';
                seriesItem.innerHTML = `
                    <div class="content-info">
                        <div><strong>${serie.title}</strong></div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">${serie.genre} | ‚≠ê ${serie.rating}</div>
                    </div>
                    <div class="content-actions">
                        <button class="action-btn btn-edit">Editar</button>
                        <button class="action-btn btn-delete" onclick="deleteSeries(${serie.id})">Excluir</button>
                    </div>
                `;
                seriesList.appendChild(seriesItem);
            });
        }

        function loadChannelsList() {
            const channelsList = document.getElementById('channels-list');
            channelsList.innerHTML = '';
            
            tvChannels.forEach(channel => {
                const channelItem = document.createElement('div');
                channelItem.className = 'content-item';
                channelItem.innerHTML = `
                    <div class="content-info">
                        <div><strong>${channel.name}</strong></div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">${channel.category}</div>
                    </div>
                    <div class="content-actions">
                        <button class="action-btn btn-edit">Editar</button>
                        <button class="action-btn btn-delete" onclick="deleteChannel(${channel.id})">Excluir</button>
                    </div>
                `;
                channelsList.appendChild(channelItem);
            });
        }

        function addNewUser() {
            const username = document.getElementById('new-username').value;
            const password = document.getElementById('new-password').value;
            const plan = document.getElementById('new-user-plan').value;
            const status = document.getElementById('new-user-status').value;
            
            if (!username || !password) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }
            
            const newUser = {
                username: username,
                password: password,
                email: username,
                plan: plan,
                status: status,
                created: new Date().toISOString()
            };
            
            adminUsers.push(newUser);
            saveLocalData();
            loadUserList();
            
            // Limpar formul√°rio
            document.getElementById('new-username').value = '';
            document.getElementById('new-password').value = '';
            
            alert('Usu√°rio adicionado com sucesso!');
        }

        function addNewMovie() {
            const title = document.getElementById('movie-title').value;
            const genre = document.getElementById('movie-genre').value;
            const rating = parseFloat(document.getElementById('movie-rating').value);
            const image = document.getElementById('movie-image').value;
            const video = document.getElementById('movie-video').value;
            const description = document.getElementById('movie-description').value;
            
            if (!title || !genre || !image || !video) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }
            
            const newMovie = {
                id: Date.now(),
                title: title,
                genre: genre,
                rating: rating || 0,
                image: image,
                video: video,
                description: description,
                added: new Date().toISOString()
            };
            
            movies.push(newMovie);
            saveLocalData();
            loadMoviesList();
            
            // Limpar formul√°rio
            document.getElementById('movie-title').value = '';
            document.getElementById('movie-genre').value = '';
            document.getElementById('movie-rating').value = '';
            document.getElementById('movie-image').value = '';
            document.getElementById('movie-video').value = '';
            document.getElementById('movie-description').value = '';
            
            alert('Filme adicionado com sucesso!');
        }

        function addNewSeries() {
            const title = document.getElementById('series-title').value;
            const genre = document.getElementById('series-genre').value;
            const rating = parseFloat(document.getElementById('series-rating').value);
            const image = document.getElementById('series-image').value;
            const description = document.getElementById('series-description').value;
            
            if (!title || !genre || !image) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }
            
            // Coletar temporadas e epis√≥dios
            const seasons = [];
            const seasonElements = document.querySelectorAll('.season-container');
            
            seasonElements.forEach(seasonElement => {
                const seasonNumber = parseInt(seasonElement.querySelector('.season-number').value);
                const episodes = [];
                
                const episodeElements = seasonElement.querySelectorAll('.episode-item');
                episodeElements.forEach(episodeElement => {
                    const episodeNumber = parseInt(episodeElement.querySelector('.episode-number').value);
                    const episodeTitle = episodeElement.querySelector('.episode-title').value;
                    const episodeVideo = episodeElement.querySelector('.episode-video').value;
                    
                    if (episodeNumber && episodeTitle && episodeVideo) {
                        episodes.push({
                            number: episodeNumber,
                            title: episodeTitle,
                            video: episodeVideo
                        });
                    }
                });
                
                if (seasonNumber && episodes.length > 0) {
                    seasons.push({
                        number: seasonNumber,
                        episodes: episodes
                    });
                }
            });
            
            const newSeries = {
                id: Date.now(),
                title: title,
                genre: genre,
                rating: rating || 0,
                image: image,
                description: description,
                seasons: seasons,
                added: new Date().toISOString()
            };
            
            series.push(newSeries);
            saveLocalData();
            loadSeriesList();
            
            // Limpar formul√°rio
            document.getElementById('series-title').value = '';
            document.getElementById('series-genre').value = '';
            document.getElementById('series-rating').value = '';
            document.getElementById('series-image').value = '';
            document.getElementById('series-description').value = '';
            document.getElementById('seasons-container').innerHTML = '';
            
            alert('S√©rie adicionada com sucesso!');
        }

        function addNewChannel() {
            const name = document.getElementById('channel-name').value;
            const category = document.getElementById('channel-category').value;
            const image = document.getElementById('channel-image').value;
            const stream = document.getElementById('channel-stream').value;
            
            if (!name || !category || !image || !stream) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }
            
            const newChannel = {
                id: Date.now(),
                name: name,
                category: category,
                image: image,
                stream: stream,
                added: new Date().toISOString()
            };
            
            tvChannels.push(newChannel);
            saveLocalData();
            loadChannelsList();
            
            // Limpar formul√°rio
            document.getElementById('channel-name').value = '';
            document.getElementById('channel-category').value = '';
            document.getElementById('channel-image').value = '';
            document.getElementById('channel-stream').value = '';
            
            alert('Canal adicionado com sucesso!');
        }

        function addSeason() {
            const seasonsContainer = document.getElementById('seasons-container');
            const seasonCount = seasonsContainer.children.length + 1;
            
            const seasonHTML = `
                <div class="season-container" style="background: var(--secondary-bg); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h4>Temporada ${seasonCount}</h4>
                        <button type="button" class="action-btn btn-delete" onclick="this.parentElement.parentElement.remove()">Remover</button>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">N√∫mero da Temporada</label>
                            <input type="number" class="form-input season-number" value="${seasonCount}" min="1">
                        </div>
                    </div>
                    <div class="episodes-list" id="episodes-${seasonCount}">
                        <!-- Epis√≥dios ser√£o adicionados aqui -->
                    </div>
                    <button type="button" class="submit-btn" onclick="addEpisode(${seasonCount})" style="background: #4CAF50; margin-top: 1rem;">
                        + Adicionar Epis√≥dio
                    </button>
                </div>
            `;
            
            seasonsContainer.innerHTML += seasonHTML;
        }

        function addEpisode(seasonId) {
            const episodesList = document.getElementById(`episodes-${seasonId}`);
            const episodeCount = episodesList.children.length + 1;
            
            const episodeHTML = `
                <div class="episode-item" style="background: var(--card-bg); padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <h5>Epis√≥dio ${episodeCount}</h5>
                        <button type="button" class="action-btn btn-delete" onclick="this.parentElement.parentElement.remove()">Remover</button>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">N√∫mero do Epis√≥dio</label>
                            <input type="number" class="form-input episode-number" value="${episodeCount}" min="1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">T√≠tulo do Epis√≥dio</label>
                            <input type="text" class="form-input episode-title" placeholder="T√≠tulo do epis√≥dio">
                        </div>
                        <div class="form-group">
                            <label class="form-label">URL do V√≠deo</label>
                            <input type="text" class="form-input episode-video" placeholder="https://...">
                        </div>
                    </div>
                </div>
            `;
            
            episodesList.innerHTML += episodeHTML;
        }

        // Fun√ß√µes de Exclus√£o
        function deleteUser(username) {
            if (confirm(`Tem certeza que deseja excluir o usu√°rio ${username}?`)) {
                adminUsers = adminUsers.filter(user => user.username !== username);
                saveLocalData();
                loadUserList();
            }
        }

        function deleteMovie(movieId) {
            if (confirm('Tem certeza que deseja excluir este filme?')) {
                movies = movies.filter(movie => movie.id !== movieId);
                saveLocalData();
                loadMoviesList();
            }
        }

        function deleteSeries(seriesId) {
            if (confirm('Tem certeza que deseja excluir esta s√©rie?')) {
                series = series.filter(serie => serie.id !== seriesId);
                saveLocalData();
                loadSeriesList();
            }
        }

        function deleteChannel(channelId) {
            if (confirm('Tem certeza que deseja excluir este canal?')) {
                tvChannels = tvChannels.filter(channel => channel.id !== channelId);
                saveLocalData();
                loadChannelsList();
            }
        }

        // Fun√ß√µes Google Drive
        function testDriveConnection() {
            const statusElement = document.getElementById('drive-status');
            statusElement.textContent = 'üîÑ Testando conex√£o com Google Drive...';
            statusElement.className = 'sync-status sync-loading';
            
            // Simular teste de conex√£o (em produ√ß√£o, isso seria uma chamada real √† API)
            setTimeout(() => {
                statusElement.textContent = '‚úÖ Conex√£o com Google Drive estabelecida com sucesso!';
                statusElement.className = 'sync-status sync-success';
                
                // Salvar API key
                const apiKey = document.getElementById('drive-api-key').value;
                localStorage.setItem('driveApiKey', apiKey);
            }, 2000);
        }

        function manualSync() {
            const statusElement = document.getElementById('drive-status');
            statusElement.textContent = 'üîÑ Sincronizando dados com Google Drive...';
            statusElement.className = 'sync-status sync-loading';
            
            // Simular sincroniza√ß√£o
            setTimeout(() => {
                statusElement.textContent = '‚úÖ Dados sincronizados com sucesso!';
                statusElement.className = 'sync-status sync-success';
                
                // Em produ√ß√£o, aqui voc√™ faria o upload dos dados para o Google Drive
                console.log('Dados sincronizados:', {
                    movies: movies.length,
                    series: series.length,
                    channels: tvChannels.length,
                    users: adminUsers.length
                });
            }, 3000);
        }
    </script>
</body>
</html>
